<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>类/伪数组</title>
</head>
<body>
  <!-- 
    1). 描述: 拥有一个 length 属性和若干索引属性的对象
    2). 与数组相同的特性
        读写
        获取长度
        遍历
    3). 区别于数组
        不是数组类型, 是对象类型
        没有数组的一系列方法
    4). 如何让类数组能调用数组的方法
        call() / apply()
    5). 如何根据类数组生成真数组
        slice / splice / from / concat
    6). 原生内置的类数组
        函数的实参列表: arguments
        DOM中得到多个节点的方法或属性: getElementsByTagName()/children
  -->

  <script>
    // 创建一个类数组对象
    const arrayLike = {
      0: 'name',
      1: 'age',
      2: 'sex',
      length: 3
    }
    // 真数组
    const array = ['name', 'age', 'sex']


    /* 与数组相同的特性 */
    // 读写
    console.log(array[0]) // name
    console.log(arrayLike[0]) // name

    array[0] = 'new name'
    arrayLike[0] = 'new name'

    // 长度
    console.log(array.length); // 3
    console.log(arrayLike.length); // 3

    // 遍历
    for(var i = 0, len = array.length; i < len; i++) {
      // ……
    }
    for(var i = 0, len = arrayLike.length; i < len; i++) {
        // ……
    }

    /* 区别于数组 */
    console.log(arrayLike instanceof Array, arrayLike instanceof Object) // false true
    console.log(arrayLike.reduce) // undeifned

    /* 如何让类数组能调用数组的方法 */
    console.log(Array.prototype.slice.call(arrayLike, 1, 3))
    console.log(
      Array.prototype.map.call(arrayLike, function(item){
        return item.toUpperCase();
      })
    )

    /* 如何根据类数组生成真数组 */
    // 1. slice
    Array.prototype.slice.call(arrayLike); // ["name", "age", "sex"]
    // 2. splice
    Array.prototype.splice.call(arrayLike, 0); // ["name", "age", "sex"]
    // 3. ES6 Array.from
    Array.from(arrayLike); // ["name", "age", "sex"]
    // 4. apply
    Array.prototype.concat.apply([], arrayLike) // ["name", "age", "sex"]
  </script>
</body>
</html>